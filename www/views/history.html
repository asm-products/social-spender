<div class="row">
	<div class="col-lg-12">
		<p ng-if="!user">
			You are not yet logged in!
		</p>
	</div>
</div>
<div ng-if="user" class="row">
	<div class="col-lg-12">
		<p>Click an errand to see more</p>
	<table class="table table-hover table-striped">
		<tr>
			<th>My Active Requests</th>
		</tr>
		<tr ng-repeat="req in requests | filter: reqOpen" ng-hide="req.get('hidden')">
			<td ng-click="gotoreq(req, 1)">
				{{req.get('order')}}
				<span class="glyphicon glyphicon-circle-arrow-right pull-right"></span>
			</td>
			<!-- TODO add filtering -->
			<!--<td>{{(req.createdAt).format('{MM}-{dd}-{yyyy}')}}</td>
			<td>{{req.get('runner').get('username')}}</td>
			<td>
				<button ng-if="req.get('status')=='open'" ng-click="cancelreq(req)" class="btn btn-primary">Cancel</button>
				<button ng-if="req.get('status')=='purchased'" ng-click="closereq(req)" class="btn btn-success">Mark Received</button>
				<button class="btn btn-danger" ng-click="flagreq(req)">Flag</button>
			</td>-->
		</tr>
	</table>
	<table class="table table-hover table-striped">
		<tr>
			<th>My Request History</th>
		</tr>
		<tr ng-repeat="req in requests | filter: reqClosed" ng-hide="req.get('hidden')">
			<td ng-click="gotoreq(req, 1)">
				{{req.get('order')}}
				<span class="glyphicon glyphicon-circle-arrow-right pull-right"></span>
			</td>
			<!--<td>{{(req.createdAt).format('{MM}-{dd}-{yyyy}')}}</td>
			<td>{{req.get('runner').get('username')}}</td>
			<td>
				<button ng-if="req.get('status')=='open'" ng-click="cancelreq(req)" class="btn btn-primary">Cancel</button>
				<button ng-if="req.get('status')=='purchased'" ng-click="closereq(req)" class="btn btn-success">Mark Received</button>
				<button class="btn btn-danger" ng-click="flagreq(req)">Flag</button>
			</td>-->
		</tr>
	</table>
	</div>
</div>